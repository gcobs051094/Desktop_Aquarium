## ADDED Requirements

### Requirement: 天使鬥魚吃金條鑽石變身
僅**天使鬥魚**（`species == "鬥魚"` 且 `stage == "angel"`）SHALL 會吃投餵的金條、鑽石。吃金條後變身為**金鬥魚**（`stage == "golden"`），吃鑽石後變身為**寶石鬥魚**（`stage == "gem"`）。變身時以既有升級流程（`_on_fish_upgrade`、`_create_upgraded_fish`）替換魚隻，使用 `resource/fish/鬥魚/金鬥魚`、`resource/fish/鬥魚/寶石鬥魚` 目錄之動畫。

#### Scenario: 天使鬥魚吃金條變身金鬥魚
- **WHEN** 天使鬥魚與投餵的金條飼料發生碰撞且觸發進食
- **THEN** 金條飼料被消耗（`feed.is_eaten = True`）
- **AND** 該魚被替換為金鬥魚（`stage == "golden"`），位置與行為沿用升級邏輯

#### Scenario: 天使鬥魚吃鑽石變身寶石鬥魚
- **WHEN** 天使鬥魚與投餵的鑽石飼料發生碰撞且觸發進食
- **THEN** 鑽石飼料被消耗
- **AND** 該魚被替換為寶石鬥魚（`stage == "gem"`）

#### Scenario: 非天使鬥魚不吃金條鑽石
- **WHEN** 碰撞檢測處理魚與金條或鑽石飼料
- **THEN** 若魚種非鬥魚或階段非 angel（例如幼鬥魚、中鬥魚、成年鬥魚、金鬥魚、寶石鬥魚），則該魚不消費該飼料（跳過或略過）

### Requirement: 金鬥魚與寶石鬥魚只吃一般飼料
金鬥魚（`stage == "golden"`）、寶石鬥魚（`stage == "gem"`）SHALL 僅吃一般飼料（便宜飼料、鯉魚飼料、藥丸、核廢料等）；SHALL 不吃金條、鑽石、金錐體、藍寶石。金錐體、藍寶石為金錢物件非飼料，故不會被魚吃；金條、鑽石在碰撞檢測中對金鬥魚/寶石鬥魚予以排除。

#### Scenario: 金鬥魚不吃金條與鑽石
- **WHEN** 碰撞檢測處理金鬥魚與金條或鑽石飼料
- **THEN** 該飼料不被該魚消費（邏輯上略過，不觸發 `consume_feed` 或變身）

#### Scenario: 寶石鬥魚不吃金條與鑽石
- **WHEN** 碰撞檢測處理寶石鬥魚與金條或鑽石飼料
- **THEN** 該飼料不被該魚消費

#### Scenario: 金鬥魚與寶石鬥魚吃一般飼料
- **WHEN** 金鬥魚或寶石鬥魚與一般飼料（如便宜飼料、鯉魚飼料、藥丸）發生碰撞且觸發進食
- **THEN** 依既有邏輯執行 `consume_feed`（成長度依 `FEED_GROWTH_POINTS`）；金鬥魚/寶石鬥魚無下一階段升級閾值，故僅累積成長度不變身

### Requirement: 金鬥魚與寶石鬥魚大便間隔
金鬥魚、寶石鬥魚之大便行為 SHALL 依 `BETTA_POOP_CONFIG`：金鬥魚（`golden_鬥魚`）產出金錐體、間隔 50～60 秒；寶石鬥魚（`gem_鬥魚`）產出藍寶石、間隔 50～60 秒。每次大便後重新隨機選擇間隔時間，與其他階段鬥魚一致。

#### Scenario: 金鬥魚大便間隔 50～60 秒
- **WHEN** 金鬥魚存在且大便計時達到間隔
- **THEN** 觸發大便回調產出金錐體
- **AND** 下次大便間隔在 50～60 秒範圍內隨機

#### Scenario: 寶石鬥魚大便間隔 50～60 秒
- **WHEN** 寶石鬥魚存在且大便計時達到間隔
- **THEN** 觸發大便回調產出藍寶石
- **AND** 下次大便間隔在 50～60 秒範圍內隨機
