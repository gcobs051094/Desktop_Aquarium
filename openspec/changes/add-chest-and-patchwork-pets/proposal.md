# Change: 新增寶箱怪與拼布魚寵物

## Why
1. **寵物多樣性**：除龍蝦外，新增寶箱怪與拼布魚兩種寵物，豐富遊戲內容與策略。
2. **經濟與解鎖**：寶箱怪每 3 分鐘產出高價值物品（珍珠/金條/鑽石），需 2000 金幣解鎖；拼布魚具飽足度與快樂 buff，需 3500 金幣解鎖，提供金幣消耗與回饋循環。
3. **未來擴充**：預留寵物升級系統，使寶箱怪可產生不同產物。

## What Changes
- **寵物素材命名**：龍蝦素材目錄由 `lobster` 改為「龍蝦」，程式引用同步更新。
- **寵物解鎖方式擴充**：`PET_CONFIG` 支援「金幣解鎖」：新增可選欄位 `unlock_money`；若設定則以「玩家當前金幣 ≥ 該值且點擊購買」一次性扣款解鎖，解鎖後可免費召喚。既有 `unlock_species` / `unlock_count` 維持不變。
- **寶箱怪寵物**：
  - 解鎖：2000 金幣（`unlock_money: 2000`）。
  - 位置：固定於 (400, 280)（可配置）。
  - 產出：每 3 分鐘（或 config 可調 `CHEST_PRODUCE_INTERVAL_*`）隨機產出珍珠/金條/鑽石其一；產物圖片來自 `resource/money/寶箱怪產物/`（`寶箱怪產物_珍珠.png`、`寶箱怪產物_金條.png`、`寶箱怪產物_鑽石.png`），顯示於口中座標 (400, 300)；顯示縮放由 `CHEST_PRODUCE_IMAGE_SCALE` 可調。
  - 呈現：平時顯示「1_開啟」動畫第 0 幀（關閉寶箱）；接近計時結束時（如 2:51→001、2:52→002…2:59→009）依序播放後續幀；006 幀後口中顯示產物直至使用者拾取，拾取後重置為 000 幀並重新計時。
  - 寶箱怪不拾取魚種產出的金錢（`check_money_collision` 回傳空）；產物由使用者滑鼠碰撞拾取後消失，價值加入總金額並重置寶箱怪計時。
- **拼布魚寵物**：
  - 解鎖：3500 金幣（`unlock_money: 3500`）。
  - 行為：與魚種相同會游泳、會進食（使用 6_吃飽吃 動畫）、不會大便；周圍有飼料時移動速度較快；不拾取魚種產出的金錢。
  - 飽足度：計數方式與飼料成長度一致（吃哪種飼料就加該飼料的 `FEED_GROWTH_POINTS`），上限由 `PATCHWORK_FISH_MAX_SATIATION` 可調；滿飽足度時觸發街頭表演模式（快樂 buff）。
  - 快樂效果：持續時間由 config 可調（等級 0/1/2 對應 30/40/50 秒）；期間其他會產金錢的魚種大便間隔縮短 50%（`PATCHWORK_HAPPY_BUFF_POOP_MULTIPLIER`）；受 buff 的魚頭上持續顯示 `resource/money/UI/拼布魚_愛心.png`，縮放由 `PATCHWORK_HAPPY_BUFF_HEART_SCALE` 可調。拼布魚移動速度由 `PATCHWORK_FISH_SPEED` 可調。
- **寵物升級系統**：已召喚寵物在商店顯示當前等級與「升級 (+1)/(+2)」按鈕及費用；龍蝦 +1(500)/+2(1000) 對應速度 0.4/0.5/0.6（`PET_CONFIG` 龍蝦 `speed_by_level`）；寶箱怪 +1(1000)/+2(1500) 對應產出珍珠／珍珠+金條／珍珠+金條+鑽石；拼布魚 +1(1500)/+2(2000) 對應快樂 buff 40 秒/50 秒。等級存檔於 `pet_levels`，召喚與升級時套用等級效果。
- **商店**：魚種 tab／寵物 tab；寵物項目顯示簡短描述、解鎖條件、已召喚時顯示等級與升級按鈕；寵物預覽圖 64×64，縮放影像於容器內；寶箱預覽不裁切（縮放邏輯確保完整顯示）。
- **金錢與配置**：`MONEY_VALUE` 新增珍珠、金條、鑽石價值；`config.py` 支援使用者初始金錢（`INITIAL_MONEY`）；金錢總量 UI 改為使用 `resource/money/UI/UI_金幣堆-removebg-preview.png` 圖示＋金額文字。
- **架構**：新增寶箱怪寵物類別（定點、計時、開啟動畫、產物圖片載入自 `resource/money/寶箱怪產物`）；新增拼布魚寵物類別（魚類式移動與吃飼料、飽足度、觸發快樂 buff）；水族箱維護快樂 buff 剩餘時間並於魚頭上繪製愛心；寵物等級 `_pet_levels` 存檔與載入。

## Impact
- Affected specs: pet-behavior, game-economy, aquarium-ui
- Affected code:
  - `config.py`：`PET_CONFIG` 擴充（unlock_money、寶箱怪/拼布魚）、`MONEY_VALUE` 新增珍珠/金條/鑽石
  - `pet.py`：新增寶箱怪類別、拼布魚類別（或拼布魚使用魚類動畫邏輯之寵物）
  - `aquarium_window.py`：寵物購買時支援金幣解鎖與扣款、召喚寶箱怪/拼布魚、快樂 buff 計時與對魚大便間隔之影響
  - `fish.py` 或魚類更新處：大便間隔依「快樂 buff」是否啟用套用係數（0.95）
