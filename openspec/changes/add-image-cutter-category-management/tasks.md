## 1. 類別管理 UI
- [x] 1.1 新增類別清單（QListWidget）顯示類別名稱與區域數量
- [x] 1.2 新增類別名稱輸入框（QLineEdit）作為資料夾名稱
- [x] 1.3 新增「新增類別」「刪除類別」按鈕
- [x] 1.4 實作新增類別、刪除類別與類別選取邏輯
- [x] 1.5 類別資料結構：`{'name': str, 'regions': List[int]}`（regions 為 dfs_regions 索引）

## 2. 預覽滑鼠交互
- [x] 2.1 點擊類別後啟用選擇模式，預覽顯示十字線游標
- [x] 2.2 滑鼠按下/拖移/釋放繪製 bbox（綠色邊框與半透明填充）
- [x] 2.3 座標轉換：label 座標 ↔ 原始圖片座標（依實際顯示 pixmap 縮放與偏移）
- [x] 2.4 釋放滑鼠後呼叫主視窗 `assign_regions_to_category(bbox)`，向上查找主視窗

## 3. 區域分配邏輯
- [x] 3.1 依 bbox 找出中心點在 bbox 內或與 bbox 重疊的 DFS 區域
- [x] 3.2 將對應區域索引加入當前選中類別的 `regions` 列表（避免重複）
- [x] 3.3 更新類別清單與預覽（`update_preview_with_categories`）顯示各類別顏色與未分配灰色

## 4. 自訂類別裁切與輸出
- [x] 4.1 自訂類別模式下，輸出目錄為來源影像同級目錄（`img_path.parent`）
- [x] 4.2 在該目錄下依類別名稱建立子資料夾
- [x] 4.3 每類別內依左到右排序區域，檔名 `{base_name}_{order:03d}.png`
- [x] 4.4 確認對話框與未分配區域提示；不需另選輸出目錄

## 5. 狀態與清理
- [x] 5.1 切換圖片時清空類別列表、選中類別與 DFS 區域，並重新偵測
- [x] 5.2 偵測無區域時清空類別並更新類別清單
