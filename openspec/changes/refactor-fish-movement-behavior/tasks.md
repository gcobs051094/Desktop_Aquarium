# Tasks: 重構魚類移動行為系統

## 1. 設計與規劃
- [x] 1.1 定義新的移動方向系統（使用水平方向作為主要判斷）
- [x] 1.2 確定素材使用規則與鏡像邏輯

## 2. 實作核心邏輯
- [x] 2.1 重寫 `Fish` 類別的方向屬性
  - 使用 `horizontal_direction`（-1=左, 0=靜止, 1=右）
  - 使用 `vertical_direction`（-1=上, 0=靜止, 1=下）
- [x] 2.2 實作移動更新邏輯
  - 根據水平/垂直方向計算位移
  - 確保頭部朝向與水平方向一致
- [x] 2.3 實作轉向動畫觸發邏輯
  - 當水平方向改變時（左↔右）觸發轉向動畫
  - 純垂直移動不改變頭部朝向
- [x] 2.4 實作鏡像判斷邏輯
  - 游泳：頭朝右時鏡像
  - 轉向（左→右）：直接使用；轉向（右→左）：鏡像

## 3. 整合與邊界處理
- [x] 3.1 實作隨機方向變更邏輯
- [x] 3.2 實作水族箱邊界碰撞處理
- [x] 3.3 整合到 `aquarium_window.py`（介面相容，無需修改）

## 4. Bug 修正
- [x] 4.1 修正位置精度問題（QPoint → QPointF）
- [x] 4.2 修正邊界處理無效矩形問題
- [x] 4.3 修正方向變更邏輯問題
- [x] 4.4 添加調試輸出以驗證移動行為

## 5. 驗證
- [x] 5.1 測試各方向移動正確性（已通過調試輸出驗證）
- [x] 5.2 測試轉向動畫播放正確性（已通過調試輸出驗證）
- [x] 5.3 測試邊界碰撞行為（已通過調試輸出驗證）
