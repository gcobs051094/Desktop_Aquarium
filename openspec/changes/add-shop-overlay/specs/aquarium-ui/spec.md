## ADDED Requirements

### Requirement: 商店按鈕
控制面板 SHALL 提供「商店」按鈕；使用者點擊後 SHALL 發出開啟商店請求，在水族箱頁面階層上顯示半透明商店覆蓋視窗。

#### Scenario: 商店按鈕顯示與點擊
- **WHEN** 水族箱視窗啟動
- **THEN** 控制面板上顯示「商店」按鈕（位於「投放魚」與「關閉」之間）
- **AND** 按鈕具有可辨識樣式（例如綠色系）以區別其他按鈕

#### Scenario: 開啟商店
- **WHEN** 使用者點擊「商店」按鈕
- **THEN** 系統發出 `shop_requested` 信號
- **AND** 主視窗顯示商店半透明覆蓋視窗於水族箱區域上層

### Requirement: 商店半透明覆蓋視窗
系統 SHALL 提供商店覆蓋視窗（ShopOverlay），覆蓋水族箱區域、半透明背景，並預留未來魚的選項與購買條件邏輯。

#### Scenario: 覆蓋視窗顯示
- **WHEN** 商店被開啟
- **THEN** 在水族箱區域上層顯示半透明覆蓋視窗
- **AND** 覆蓋視窗覆蓋整個水族箱區域（與水族箱同尺寸與位置）
- **AND** 覆蓋視窗具有半透明深色背景（例如 rgba(30, 35, 45, 220)），不遮住右側控制面板

#### Scenario: 覆蓋視窗內容
- **WHEN** 商店覆蓋視窗顯示
- **THEN** 視窗內顯示標題「商店」
- **AND** 顯示「關閉」按鈕，點擊後覆蓋視窗隱藏並發出 `closed` 信號
- **AND** 顯示預留說明（解鎖條件：曾達到指定魚種數量；購買條件：當下滿足指定魚種數量，購買後生成新魚並移除指定魚種、觸發餓肚子死掉動畫）
- **AND** 提供可擴充版面（例如 `items_layout()`）供未來加入魚選項按鈕或卡片

#### Scenario: 商店顯示時滑鼠事件
- **WHEN** 商店覆蓋視窗為顯示狀態且使用者在水族箱區域內點擊、移動或釋放滑鼠
- **THEN** 滑鼠事件 SHALL 轉發給商店覆蓋視窗而非水族箱
- **AND** 關閉按鈕與未來商品可正常接收點擊

#### Scenario: 商店關閉後
- **WHEN** 使用者點擊商店內「關閉」按鈕
- **THEN** 覆蓋視窗隱藏
- **AND** 水族箱區域的滑鼠事件恢復轉發給水族箱（投放飼料、拾取金錢等）

### Requirement: 商店商品結構預留
設定或文件 SHALL 預留商店商品結構說明，供未來實作魚選項與購買條件使用：解鎖（unlock_species、unlock_count）、購買當下條件（require_species、require_count）、購買後生成魚種（spawn_fish_species）。

#### Scenario: 預留結構可查閱
- **WHEN** 開發者實作商店魚選項與購買邏輯
- **THEN** 可在專案內（例如 config.py 註解或文件）找到建議的商品結構欄位說明
- **AND** 包含解鎖條件（曾達到指定魚種數量）與購買時條件（當下數量、購買後生成新魚並移除指定魚種、餓肚子死掉動畫）之對應欄位
